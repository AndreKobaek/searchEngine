\section{Refined Queries}

Already during the implementation of the inverted index, we added simple input validation to \code{QueryHandler} to only accept queries comprised of characters in the English alphabet, digits, dashes and underscores. This was done using the following regular expression: \code{\\\\b([-\\\\w]+)\\\\b}. Additionally, query strings were transformed to lowercase before doing a lookup.

For the refined queries, we build upon this functionality.

\subsection{Multiple Words}
First off, we add logic to handle multiple words in a search query. We need to return the websites containing all the words in the query string. Since we utilise \code{Pattern} and \code{Matcher}, the procedure is quite simple: If there is more than one match, the results from the first lookup is stored in a set and the results from the following lookups are retained from the same set. After the final lookup, a list is returned (since this is what \code{SearchEngine} and \code{WebApplication} expects).

Tests for the implementation are located in \code{QueryHandlerTest.java}

\subsection{Merging via "OR"}
Second, we implement functionality to allow merging word sequences via "OR". The search query is split around the matches of the regular expression \code{\\\\bOR\\\\b}. The resulting sequences are stored in an array of strings, and for each of these strings a set of matching websites is found. The union of these sets form the response to the query. The nature of sets prevent duplicate elements. Finally, the results are added to a list which is returned.

Tests for the implementation are located in \code{QueryHandlerTest.java}

\subsection{URL Filter}
We added this stupid URL filter too..